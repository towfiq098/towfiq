#include<stdio.h>
#include<stdlib.h>
int main(){
    FILE *tempFile;
    char tempFilename[L_tmpnam];
    printf("===Temporary File Creator===\n");
    if(tmpnam(tempFilename)==NULL){
        printf("Error creating temporary filename!\n");
        return 1;
    }
    printf("Temporary filename:%s\n",tempFilename);
    tempFile=fopen(tempFilename,"w+");
    if(tempFile==NULL){
        printf("Error creating temporary file!\n");
        return 1;
    }
    fprintf(tempFile,"This is temporary data\n");
    fprintf(tempFile,"Created using tmpnam() function\n");
    fprintf(tempFile,"This file will be deleted automatically\n");
    rewind(tempFile);
    char ch;
    printf("\nContent of temporary file:\n");
    printf("---------------------------\n");
    while((ch=fgetc(tempFile))!=EOF){
        putchar(ch);
    }
    fclose(tempFile);
    if (remove(tempFilename)==0){
        printf("\nTemporary file deleted successfully.\n");
    } else {
        printf("\nError deleting temporary file.\n");
    }
    return 0;
}
